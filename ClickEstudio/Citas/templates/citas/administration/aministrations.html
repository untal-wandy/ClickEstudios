{% extends "citas/base/base.html" %}
{% block content %}

<style>
            {% comment %} body 
            {
                  background: white;
                  color: black;
                  height: 90vh;
            } {% endcomment %}


            #search-client, input {
                  color: white !important;
                  border:0px !important ;
            }

            .list-options a {
                  transition: none !important;
                  margin-left: 0.4rem !important;
                  font-size: 14px;
            }

            .list-options a:hover 
            {
                  background-image: linear-gradient(120deg, #ffaaaa 0%, #bca1ff 100%);-webkit-background-clip: text; -webkit-text-fill-color: transparent;
                  font-weight: bolder;
            }
            div a 
            {

                  {% comment %} color: black; {% endcomment %}
            }
            div
            {
                  color: white; 
            }

            .background-container {
            position: relative;
            width: 100%;
            height: 45vh; /* Ajusta la altura según sea necesario */
            /* background-image: url('https://th.bing.com/th/id/OIP.IqjnLkysQHMtDIqzbEqAnAHaLG?w=634&h=950&rs=1&pid=ImgDetMain'); */
            background-size: cover;
            background-position: center;
        }
        .content {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;

            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.068), rgb(0, 0, 0));
            color: white; /* Cambia el color del texto según sea necesario */
        }

        #btn-action {
            display: none !important; 
        }
        #divs-btns {
            display: none !important;
        }


        .roll-out-blurred-left {
	-webkit-animation: roll-out-blurred-left 0.65s cubic-bezier(0.755, 0.050, 0.855, 0.060) both;
	        animation: roll-out-blurred-left 0.65s cubic-bezier(0.755, 0.050, 0.855, 0.060) both;
}

        /* ----------------------------------------------
 * Generated by Animista on 2024-6-17 12:24:24
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation roll-out-blurred-left
 * ----------------------------------------
 */
@-webkit-keyframes roll-out-blurred-left {
  0% {
    -webkit-transform: translateX(0) rotate(0deg);
            transform: translateX(0) rotate(0deg);
    -webkit-filter: blur(0);
            filter: blur(0);
    opacity: 1;
  }
  100% {
    -webkit-transform: translateX(-1000px) rotate(-720deg);
            transform: translateX(-1000px) rotate(-720deg);
    -webkit-filter: blur(50px);
            filter: blur(50px);
    opacity: 0;
  }
}
@keyframes roll-out-blurred-left {
  0% {
    -webkit-transform: translateX(0) rotate(0deg);
            transform: translateX(0) rotate(0deg);
    -webkit-filter: blur(0);
            filter: blur(0);
    opacity: 1;
  }
  100% {
    -webkit-transform: translateX(-1000px) rotate(-720deg);
            transform: translateX(-1000px) rotate(-720deg);
    -webkit-filter: blur(50px);
            filter: blur(50px);
    opacity: 0;
  }
}
.back-arrow 
{
      display: none !important;
}

@keyframes flip-down2 {
    0% {
        transform: rotateX(-90deg);
        opacity: 0;
    }
    100% {
        transform: rotateX(0deg);
        opacity: 1;
    }
}

/* Clase que aplicará la animación */
.flip-down2 {
    animation: flip-down2 0.5s ease-out forwards;
    transform-origin: top; /* Punto de rotación */
}


.form-control 
      {
            color: white !important;
            background: rgba(0, 0, 0, 0.192) !important;
            border: 0px !important; border-radius: 2rem; height: 2.3rem;
            outline: none !important;
            padding: 1.5rem;
            font-size: 14px;
      }
      .form-control::placeholder {
            color: rgb(109, 109, 109) !important;
      }


      @keyframes animations-pulse {
      0% {
            transform: scale(1.2);
      }
      50% {
            transform: scale(1.2);
      }
      100% {
            transform: scale(1);
      }
}
  .animations-pulse {
  animation: animations-pulse 0.3s infinite;
}
</style>
<div class="d-none">
      <input type="text" id="id_name">
      <input type="email" name="" id="id_email">
      <input type="text" id="id_number">
</div>
<div class="bg-black bg-opacity-50  vh-100 overflow-scroll p-0  " id="bg-admin" >
      <div class="border-0 ">
            {% include "citas/components/nav.html" %}

            {% if cash_register.status == 'open' %}
                <!-- Aquí va el contenido -->
            <div  data-aos="fade-up" class="   contanedor-admin  p-3 w-100 border-0 h-100 align-content-start   d-flex flex-wrap overflow-auto  mb-5 pb-5 justify-content-center" style="width: max-content; " >
                  <div class="border-0 mt-2 ms-1  w-100" style='height: 2.5rem;'>
                        <h6 class="w-100 font-secundary  d-flex" style="font-size: 14px;">
                             <span class='ms-1'>
                                    Registra una venta 
                                    <p class=" text-white-50 font-secundary" 
                                          style="font-size: 14px;">
                                          ¿Sabías que puedes registrar una venta simple? ¡Pues sí, puedes! Esta venta será visible únicamente en la caja y en el historial de ClickEstudios
                                    </p>
                              </span>
                        </h6>
                  </div>
                  <div class="d-flex w-100 ">
                        <button type="button" class="btn btn-primary d-flex  ms-2 rounded-5 border-0 bg-white bg-opacity-10"  style="width: 8rem; font-weight:  bold; font-size: 14px;"  onclick="OpenModalOption()">
                              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-balloon-heart-fill mt-1 me-1" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M8.49 10.92C19.412 3.382 11.28-2.387 8 .986 4.719-2.387-3.413 3.382 7.51 10.92l-.234.468a.25.25 0 1 0 .448.224l.04-.08c.009.17.024.315.051.45.068.344.208.622.448 1.102l.013.028c.212.422.182.85.05 1.246-.135.402-.366.751-.534 1.003a.25.25 0 0 0 .416.278l.004-.007c.166-.248.431-.646.588-1.115.16-.479.212-1.051-.076-1.629-.258-.515-.365-.732-.419-1.004a2 2 0 0 1-.037-.289l.008.017a.25.25 0 1 0 .448-.224l-.235-.468ZM6.726 1.269c-1.167-.61-2.8-.142-3.454 1.135-.237.463-.36 1.08-.202 1.85.055.27.467.197.527-.071.285-1.256 1.177-2.462 2.989-2.528.234-.008.348-.278.14-.386"/>
                                  </svg>  Crear venta       
                        </button>
                  </div>
                  <div class='w-100 mt-5'>
                        <div class="border-0  ms-1  w-100" style='height: 2.5rem;'>
                              <h6 class="w-100 font-secundary  d-flex" style="font-size: 14px;">
                                   <span class='ms-1'>
                                          Citas agendadas
                                          <p class=" text-white-50 font-secundary" 
                                                style="font-size: 14px;">
                                                Pueden desaparecer tras 48 horas
                                          </p>
                                    </span>
                              </h6>
                        </div>
                        <div class='calendary d-none position-absolute bg-black z-10 rounded-4 bg-gradient p-2 '
                              style="top: 47vh;;">
                       {% include "citas/components/little-calendary.html" %}
                        </div>
                  <section class="d-flex overflow-scroll flex-wrap">
                        <a href="{% url "citas:all-plans" %}" style="height: max-content;" >   
                        <div style="min-width: 22rem; height:14.5rem; cursor: pointer;" class="m-1 ms-0 mt-0 rounded-5 d-flex flex-wrap align-content-center justify-content-center bg-white bg-opacity-10">
                              <svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" fill="currentColor" class="bi bi-plus-circle-fill text-white-50" viewBox="0 0 16 16">
                                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3z"/>
                                  </svg>

                             </div>
                        </a> 
                             
                             {% include "citas/administration/list-citas.html" %}
                  </section>
                  </div>
                  <div class="border-0 mt-5 ms-2  w-100" style='height: 2.5rem;'>
                        <h6 class="w-100 font-secundary  d-flex" style="font-size: 14px;">
                              <!-- <svg xmlns="http://www.w3.org/2000/svg"  width="20" height="20" fill="currentColor" class="bi bi-calendar-event-fill me-1 "
                              style='margin-top: 6px; transition: 0.1s !important;' viewBox="0 0 16 16" id="calendary-svg" onclick='OpenCalendary(this.id)'> 
                                    <path d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2m-3.5-7h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5"/>
                                  </svg>  -->
                                   <span class='ms-1'>
                                    Citas reservadas
                                    <p class=" text-white-50  font-secundary" style="font-size: 14px;">
                                          Estas citas no pueden ser modificadas
                                    </p>
                              </span>
                        </h6>
                  </div>

                  <section class='d-flex w-100 ' >
                      
                        {% include "citas/administration/reservados.html" %}
                  </section>


                  {% include "citas/administration/profile.html" %}
            </div>
             </div>


      <div id="optionModal3" class=" d-none  position-fixed  top-0 start-0  w-100 vh-100  d-flex justify-content-center align-items-center">
            <div class="bg-black bg-opacity-50  rounded-5 p-5   position-relative" style="width: 90%; max-width: 870px; z-index: 1000;      ">


                  <div class="d-flex justify-content-center align-items-center flex-wrap">
                        <div class="text-start w-100  clickestudios  d-flex justify-content-start  " >
                              <!-- <svg id="recordin" xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="currentColor" class="bi bi-record-fill animations-pulse m-0 text-danger " viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10"/>
                                   </svg>  -->
                                   {% if company.logo2.url %}
                                          <img src="{{company.logo2.url}}"  data-aos="fade-right"  style="transition-delay: 0.8s;" class="  top-0 start-0"  width="110"  alt="{{company.name}}">
                                          {% endif %}
                                      <div class="d-flex align-content-center flex-wrap">
                                          <h6  style="font-weight: bold;" class="modal-title  text-white-50 title-click-venta text-start w-100"> </h6>  <br>
                                          <p class="text-white-50  text-start" style="font-size: 12px;">
                                          Registra una venta de manera sencilla, ideal para aquellas transacciones que no requieren un plan, servicios o paquetes en específico
                                          </p>
                                      </div>
                        </div> 

                  </div>
                  <div>
                        <form id="optionForm" class="mt-4">
                              <div class="mb-3 d-flex">
                                    <!-- <label for="optionName" class="form-label">Nombre </label> -->
                                    <!-- <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-currency-dollar  text-white-50 me-1  mt-2" viewBox="0 0 16 16">
                                        <path d="M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73z"/>
                                      </svg> -->
                                  <input type="text" class="form-control me-2"  style="width: 9rem;" placeholder="0.00" id="optionPrice" required>
                                    <input type="text" class="form-control"  placeholder="Ejemplo: Fotos 2x2"  id="optionName" >
                                            <!-- <label for="optionPrice" class="form-label">Precio</label> -->
                              </div>
                              <div class="mb-3">
                                    <!-- <label for="optionDescription" class="form-label">Descripción</label> -->
                                    <textarea  style="height: 15rem;" 
                                    placeholder="¡Se tomaron 10 fotos, 2X2 dividida entre cada detalle y profesionalismo"  class="form-control p-4 " id="optionDescription" rows="3" required></textarea>
                              </div>
                              <div class=" d-flex  justify-content-end">
                            
                                    <button type="button" class="btn btn-secondary position-absolute top-0 end-0  bg-transparent  border-0 me-2 ms-2 mt-2" onclick="OpenModalOption()">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
                                                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"/>
                                              </svg>
                                    </button>
                                    <button type="button" class="btn btn-primary  ms-2 pt-2 pb-2 rounded-5 border-0 bg-white bg-opacity-10"  style="width: 8rem; font-weight:  bold; font-size: 14px;"  onclick="createOption()"> 
                                          Aplicar venta      
                                    </button>
                              </div>
                              <script>
                                    const input = document.getElementById("optionPrice");
                                  
                                    input.addEventListener("input", function () {
                                      // Eliminar cualquier carácter que no sea número
                                      let value = this.value.replace(/[^0-9]/g, "");
                                      
                                      // Formatear con comas
                                      this.value = value.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                                    });
                                  </script>
                        </form>
                  </div>
            </div>
      </div>
      {% else %}
      <div  data-aos="fade-in" data-aos-easing="linear" data-aos-duration="1500"class="d-flex   justify-content-center flex-wrap align-content-center  w-100 vh-100">
            <div 
            class="bg-black p-3 text-center bg-opacity-50 position-relative rounded-5 mb-5"
            style="width: 40rem; height: 27rem;">
            <div  data-aos="fade-in" style="transition-delay: 1s !important;"  class="w-100 d-flex align-content-center flex-wrap">
                  {% if company.logo2.url %}
                        <img src="{{company.logo2.url}}"  class="  start-0"  width="120"  alt="{{company.name}}">
                  {% endif %}
            <div   data-aos="fade-right" style="transition-delay: 1s !important;" class=" d-flex flex-wrap align-content-center"> 
                  <div class="w-100 justify-content-end text-start">
                        <strong class="text-white-50 me-1" style="font-size: 12px;">   {{request.user.username}}</strong> 
                  </div>
                
                <div  data-aos="fade-right" style="transition-delay: 1.5s !important;" class="w-100 text-start" >
                  <strong class="text-white-50 me-1">  {{ request.user.first_name }} {{ request.user.last_name }} </strong>
   
                </div>

       
      </div>
            </div>
       
             <div  class="w-100 d-flex justify-content-center mb-2  mt-5"  >  
                  <strong style="font-size: 16px;"   data-aos="fade-in" style="transition-delay: 2s !important;" class="text-white-50 text-center mt-3"> Caja admistrativa altualmente cerrada</strong>
            </div>
                  <p  data-aos="fade-in" style="font-size: 12px; transition-delay: 1s !important;" class="text-white-50 w-100 text-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info" viewBox="0 0 16 16">
                              <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
                            </svg>     Para garantizar el registro adecuado de las transacciones, como ventas y otras gestiones, es necesario abrir una nueva caja, esto asegura un control eficiente y transparente de las operaciones.
                  </p>
          
                  <div data-aos="fade-right" class="w-100 d-flex justify-content-center m-0 mt-5 start-0 pb-2 pe-2   bottom-0" style="transition-delay: 4s !important;">
                        <a  href="{% url "citas:caja" %}"  class='text-white-50  btn-opcions' style="cursor: pointer; font-weight: bold;" >
                        <button style="font-size: 14px;"  class=" border-0 bg-white bg-opacity-10 p-2 pe-3 ps-3">
                                     Abrir  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-right-circle-fill" viewBox="0 0 16 16">
                                    <path d="M0 8a8 8 0 1 0 16 0A8 8 0 0 0 0 8m5.904 2.803a.5.5 0 1 1-.707-.707L9.293 6H6.525a.5.5 0 1 1 0-1H10.5a.5.5 0 0 1 .5.5v3.975a.5.5 0 0 1-1 0V6.707z"/>
                                  </svg>
                              </button>
                        </a>
                  </div>
            </div>
      </div>
      {% endif %}


</div> 

<script>

      TextSession(' Punto de venta (POS)')
      function OpenCalendary(d)
      {
            $('.calendary').toggleClass('d-none')
            document.querySelector('.calendary').classList.add('flip-down2')

            var element = document.getElementById(d);
            if (element.classList.contains('text-white-50')) {
                    element.classList.remove('text-white-50');
            } else {
                    element.classList.add('text-white-50');
            }
            
      }


function RunClock() {
    const reloj = document.querySelector('.reloj');
    if (reloj) {
        const now = new Date();
        let hours = now.getHours();
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const ampm = hours >= 12 ? 'PM' : 'AM';
        hours = hours % 12 || 12; // Convierte a formato 12 horas y ajusta para mostrar 12 en lugar de 0
        reloj.textContent = `${hours}:${minutes} ${ampm}`;
    }
}

// Actualizar el reloj cada minuto
setInterval(RunClock, 1000);

// Inicializar el reloj al cargar la página
RunClock();



function setRandomText() {
      const messages = [
    "Registra tu venta con el toque único de ClickEstudios",
    "Realiza una venta con la calidad y estilo que solo ClickEstudios puede ofrecer",
    "Haz tu venta con el sello exclusivo de ClickEstudios",
    "Registra tu transacción de manera impecable al estilo de ClickEstudios",
    "Cierra tu venta con la excelencia que caracteriza a ClickEstudios",
    "Registra cada venta con la precisión y profesionalismo de ClickEstudios",
    "Transforma cada venta en una experiencia única con ClickEstudios"
  ];

  // Selecciona un mensaje aleatorio
  const randomMessage = messages[Math.floor(Math.random() * messages.length)];

  // Inserta el mensaje en el elemento con clase .title-click-venta
  const element = document.querySelector('.title-click-venta');
  if (element) {
    element.textContent = randomMessage;
  }
}

// Llamar a la función cuando la página esté completamente cargada
window.onload = setRandomText;

function OpenModalOption() {
      var optionModalElement = document.getElementById('optionModal3');
      if (optionModalElement.classList.contains('d-none')) {
            document.querySelector('.contanedor-admin').classList.add('d-none')
            optionModalElement.classList.remove('d-none');
            optionModalElement.classList.add('flip-center')
      } else {
            document.querySelector('.contanedor-admin').classList.remove('d-none')
            optionModalElement.classList.add('d-none');
      }

}
</script>

{% endblock  %}